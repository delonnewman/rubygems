
== Introduction ==

gem is the command-line interface to RubyGems. With it, you can
install gems locally or remotely, see what you have installed, search
for gems, and more.

It works on the following basis: you specify an operation and
optionally some modifiers. Finally, you can have a configuration file
to specify commonly-used command-line arguments and other settings.

See the [[Quick_Introduction|QuickIntroduction]] for a task-driven
hands-on overview of gem's main features.

This reference covers 'gem' version 
!version
.

=== Basic 'gem' Usage, and Getting Help ===

<tt>gem</tt> is based on ''commands'', like <tt>build</tt>, <tt>install</tt>,
and <tt>search</tt>.  See the [[#toc]] for a full list.

Each command takes ''arguments'' and/or ''options''.  For example, if you run

  gem install rake --remote

then <tt>install</tt> is the command, <tt>rake</tt> is the argument, and
<tt>--remote</tt> is an option.  (By the way, this command installs rake
remotely.)

<tt>gem</tt> provides most of the help you need inline.
* '''To see a list of commands''', run <tt>gem help commands</tt>.
* '''To get help on the ''install'' command''', run <tt>gem help install</tt>.
* '''To see some examples of common usage''', run <tt>gem help examples</tt>.
* '''For a reminder of all this''', just run <tt>gem help</tt>.

The help on each command is also included in this document.

=== [#toc]Gem Commands (Table of Contents) ===

The following is taken from the output of <tt>gem help commands</tt>.  The
links on the left take you to the relevant section of this document.

!toc


== [#build]gem build -- Build a gem file from a specification ==

The build command is used by developers to package their Ruby software
into a single gem file that can be distributed.  The build command
requires a gemspec file to describe the metadata in the packge.  You
can see a good example of using build in CreateAGemInTenMinutes.

A yaml file containing the Gem::Specification object built by a
gemspec (instead of a gemspec file) may also be also be used with the
build command.

=== Usage ===

!usage build

=== Examples ===

This example builds a the rake package from a gemspec file.

<pre>
$ gem build rake.gemspec 
Attempting to build gem spec 'rake.gemspec'
  Successfully built RubyGem
  Name: rake
  Version: 0.4.0
  File: rake-0.4.0.gem
</pre>

Of course, rake isn't normally built from a gemspec.  It uses a
special gem building task to build the gem directly from the rakefile.
See CreateAGemUsingRake for more details.

<pre>
$ rake gem
(in /home/jim/working/rubyforge/rake)
  Successfully built RubyGem
  Name: rake
  Version: 0.4.0
  File: rake-0.4.0.gem
</pre>


== [#check]gem check -- Check installed gems for problems ==

The check command is used to verify that a gem in is good working order.

=== Usage ===

!usage check

The ''verify'' option checks a gem file for corruption.  If the file is
not exactly like it was built, verify will complain.  (Note: This is a
simple integrity check.  It is not checking for PGP like signatures).

The ''alien'' option checks an installed gem to see if any of the files
have been tampered with.

=== Examples ===

The following check is run against a valid rake gem file.

<pre>
$ gem check -v pkg/rake-0.4.0.gem 
Verifying gem: 'pkg/rake-0.4.0.gem'
</pre>

The following check shows that the rake gem file is invalid.

<pre>
$ gem check -v pkg/rake-0.4.0.gem
Verifying gem: 'pkg/rake-0.4.0.gem'
ERROR:  pkg/rake-0.4.0.gem is invalid.
</pre>

In this installation of <nowiki>ActiveRecord</nowiki>, the postgreSQL driver
has been locally patched after the gem was installed.  This is how the alien
option reports it.

<pre>
$ gem check --alien
Performing the 'alien' operation
madeleine-0.6 is error-free

madeleine-0.6.1 is error-free

rake-0.4.0 is error-free

rake-0.3.2 is error-free

copland-0.3.0 is error-free

sources-0.0.1 has 2 problems

iterator-0.5 is error-free

activerecord-0.8.1 has 2 problems
	lib/active_record/connection_adapters/postgresql_adapter.rb:
	installed file doesn't match original from gem

	/usr/local/lib/ruby/gems/1.8/cache/activerecord-0.8.1.gem:
	Unmanaged files in gem: ["lib/active_record/connection_adapters/postgresql_adapter.rb~"]


[... remaining output elided ...]
</pre>


== [#environment] gem environment -- Display information about the gem environment ==

Gems uses several paths and directories to perform its work.  This
command will display the information the gem command has found.

=== Usage ===

!usage environment

=== Examples ===

<pre>
$ gem environment
Rubygems Environment:
  - VERSION: 0.6 (0.6.1)
  - INSTALLATION DIRECTORY: /usr/local/lib/ruby/gems/1.8
  - GEM PATH:
     - /usr/local/lib/ruby/gems/1.8
  - REMOTE SOURCES:
     - http://gems.rubyforge.org
</pre>


== [#help] gem help -- Provide help about gem commands ==

The help command provides information about the syntax and options
available on the gem command.

=== Usage ===

!usage help


== [#install]gem install -- Installing a gem ==

<tt>gem install</tt> will install the named gem. It will
attempt a local installation (i.e. a .gem file in the current
directory), and if that fails, it will attempt to download and install
the most recent version of the gem you want.

If a gem is being installed remotely, and it depends on other gems
that are not installed, then gem will download and install those,
after you have confirmed the operation.

=== Usage ===

!usage install

=== Examples ===

These examples show how GEMNAME can be specified:

This will install local 'copland.gem' or remote 'copland-0.3.0' (for
instance), but not a local file 'copland-0.3.0' gem.

  gem install copland               

This will install local 'copland-0.2.0' or remote 'copland-0.2.0'.

  gem install copland-0.2.0

This will only succeed if the local file exists. This will not resolve to a remote gem.

  gem install copland-0.2.0.gem

<pre>
  gem install --remote copland         # shortcut: gem ins -R copland
  gem install copland --version '> 0.2'
  gem install copland --gen-rdoc --run-tests
  gem install copland --install-stub
</pre>

Here is an example session where a dependency is automatically
downloaded and resolved.

<pre>
$ gem install copland
Attempting local installation of ''
Local gem file not found: copland.gem
Attempting remote installation of 'copland'
Install required dependency log4r? [Yn]   y
Successfully installed copland, version 0.3.0
</pre>


== [#list]gem list -- List gems starting with a string ==

<tt>gem list</tt> will list all gems whose name ''starts with'' the given
string.  If no string is provided, all gems are listed.

=== Usage ===

!usage list

=== Examples ===

List all remote gems starting with "a".

<pre>
$ gem list -r a

*** REMOTE GEMS ***

activerecord (0.8.4, 0.8.3, 0.8.2, 0.8.1, 0.8.0, 0.7.6, 0.7.5)
    Implements the ActiveRecord pattern for ORM.

arrayfields (3.3.0)
    Allow keyword access to arrays
</pre>

List all gems, local and remote.

<pre>
$ gem list --both

*** LOCAL GEMS ***

  ...

*** REMOTE GEMS ***

  ...
</pre>


== [#query]gem query -- Query for a list of gems ==

<tt>gem query</tt> will list all gems matching a particular criteria.
The domain may be local, remote or both.

=== Usage ===

!usage query

=== Examples ===

To list all local gems with a digit in the gem name:

<pre>
$ gem query -n '[0-9]' --local

*** LOCAL GEMS ***

jabber4r (0.7.0)
    Jabber4r is a pure-Ruby Jabber client library

log4r (1.0.5)
    Log4r is a comprehensive and flexible logging library for Ruby.
</pre>

To list all remote gems that begin with the letter 'm':

<pre>
$ gem query -R -n ^m

*** REMOTE GEMS ***

madeleine (0.6.1, 0.6)
    Madeleine is a Ruby implementation of Object Prevalence

midilib (0.8.0)
    MIDI file and event manipulation library
</pre>


== [#search]gem search -- List gems containing a string ==

<tt>gem search</tt> will list all gems whose name ''contains'' the given
(case-insensitive) string.  If no string is provided, all gems will be listed.

=== Usage ===

!usage search

=== Examples ===

List all remote gems containing "log" in their name.

<pre>
$ gem search -r log

*** REMOTE GEMS ***

log4r (1.0.5)
    Log4r is a comprehensive and flexible logging library for Ruby.

rublog (0.8.0)
    RubLog is a simple web log, based around the idea of displaying a
    set of regular files in a log-format.
</pre>


== [#specification]gem specification -- Extract the Gem::Specification from a gem file ==

The specification command will extract the Gem::Specification from a
gem file and write to standard output in YAML format.

=== Usage ===

!usage specification

=== Examples ===

Here is the specification from rake 0.4.1.

<pre>
$ gem spec rake -v 0.4.1
--- !ruby/object:Gem::Specification 
rubygems_version: "0.6"
name: rake
version: !ruby/object:Gem::Version 
  version: 0.4.1
date: 2004-07-02 01:08:54.678603 -04:00
platform: 
summary: Ruby based make-like utility.
require_paths: 
  - lib
files: 
  - install.rb
  - CHANGES
  - Rakefile
  - README
  - TODO
  - MIT-LICENSE
  - bin/rake
  - lib/rake.rb
  - lib/rake/clean.rb
  ......
</pre>


== [#uninstall]gem uninstall -- Uninstalling a gem ==

The uninstall will uninstall the named gem.  If multiple versions of a
gem are installed, you will be prompted to select a single one, or all
of them.

=== Usage ===

!usage uninstall

=== Examples ===

The following uninstalls the only copy of copland.

<pre>
$ gem uninstall copland
Attempting to uninstall gem 'copland'
Successfully uninstalled copland version 0.3.0
</pre>

The following uninstalls all the installed versions of the rake gem.
Since rake is an application, it has a ApplicationStub installed.  The
uninstall removes the stub as well.

<pre>
$ sudo gem uninstall rake
Attempting to uninstall gem 'rake'

Select RubyGem to uninstall:
 1. rake-0.3.2
 2. rake-0.4.0
 3. All versions
> 3
Successfully uninstalled rake version 0.3.2
Successfully uninstalled rake version 0.4.0
WARNING:  About to remove executables and scripts for: rake
Proceed? [Y/n]  y
Removing rake
</pre>


== [#update]gem update -- Update your installed gems ==

The update command will check all of your installed gems and update
each one to a newer version if one is available.

=== Usage ===

!usage update

=== Examples ===

<pre>
$ gem update
Upgrading installed gems...
Attempting remote upgrade of activerecord
Attempting remote installation of 'activerecord'
Successfully installed activerecord, version 0.8.4
Attempting remote upgrade of csbattery
Attempting remote installation of 'csbattery'
Successfully installed csbattery, version 0.2.2
All gems up to date
</pre>


== See Also ==

* ConfigurationFile
* EnvironmentVariables
* CommandOptions
* GemExamples

----

<b>Note to updaters:</b> <em>This page is generated via the gemdoc.rb script available in the RubyGems CVS package.  The gemdoc script weaves together the text and output from the gem program into a single document.  Direct edits to this page are likely to get lost when the page is regenerated.  Notify someone on the developer list if you have changes for this page.</em>

Contributors: GavinSinclair, JimWeirich

----

CategoryUserDocumentation
